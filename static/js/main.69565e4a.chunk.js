(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},129:function(e,t,a){e.exports=a(183)},134:function(e,t,a){},135:function(e,t,a){},179:function(e,t,a){e.exports=a.p+"static/media/shape.208f3d38.svg"},183:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),l=a.n(o),c=(a(134),a(21)),i=a(22),s=a(24),u=a(23),m=a(25),d=a(116),p=a(255),f=(a(135),a(17)),h=a(36),g=a(37),b=a(187),E=a(244),v=a(117),y=a(40),j=a(245),O=a(243),x=a(236),S=a(241),C=a(242),k=a(240),w=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.open,n=e.onClose;return r.a.createElement(x.a,{open:a,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",scroll:"body"},r.a.createElement(k.a,{id:"alert-dialog-title"}),r.a.createElement(S.a,null,r.a.createElement(C.a,{id:"alert-dialog-description"},r.a.createElement("div",{className:t.container},this.props.children))))}}]),t}(n.Component),B=Object(b.a)(function(e){return{container:{maxWidth:600,flexGrow:1,textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center"},bottomMargin:{marginBottom:e.spacing(2)}}})(w),N=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(B,this.props,r.a.createElement("div",{className:e.bottomMargin},r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"This is a sample introduction")),r.a.createElement(O.a,{component:f.b,to:"/dashboard",className:e.bottomMargin,variant:"contained",onClick:this.handleClose,color:"primary",autoFocus:!0},"Getting started"),r.a.createElement(O.a,{component:f.b,to:"/dashboard",variant:"outlined",onClick:this.handleClose,color:"primary",autoFocus:!0},"Dashboard"))}}]),t}(n.Component),T=Object(h.f)(Object(b.a)(function(e){return{container:{maxWidth:600,flexGrow:1,textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center"},bottomMargin:{marginBottom:e.spacing(2)}}})(N)),I=a(105),A=a.n(I),M=a(260),P=a(106),D=a(100),G=Object(P.autoPlay)(A.a),L=[{label:"A first label",description:"This is the first item on the label",imgPath:"https://images.unsplash.com/photo-1537944434965-cf4679d1a598?auto=format&fit=crop&w=400&h=250&q=60"},{label:"A second label",description:"This is the second item on the label",imgPath:"https://images.unsplash.com/photo-1538032746644-0212e812a9e7?auto=format&fit=crop&w=400&h=250&q=60"},{label:"A third label",description:"This is the third item on the label",imgPath:"https://images.unsplash.com/photo-1537996194471-e657df975ab4?auto=format&fit=crop&w=400&h=250&q=80"},{label:"A fifth label",description:"This is the fifth item on the label",imgPath:"https://images.unsplash.com/photo-1518732714860-b62714ce0c59?auto=format&fit=crop&w=400&h=250&q=60"},{label:"Other label",description:"This is other label",imgPath:"https://images.unsplash.com/photo-1512341689857-198e7e2f3ca8?auto=format&fit=crop&w=400&h=250&q=60"}],F=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={activeStep:0},a.handleNext=function(){a.setState(function(e){return{activeStep:e.activeStep+1}})},a.handleBack=function(){a.setState(function(e){return{activeStep:e.activeStep-1}})},a.handleStepChange=function(e){a.setState({activeStep:e})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=L.length,a=this.state.activeStep;return r.a.createElement(B,this.props,r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.gutterBottom},r.a.createElement("img",{width:100,src:D,alt:""})),r.a.createElement("div",null,r.a.createElement(G,{axis:"x",index:a,onChangeIndex:this.handleStepChange,enableMouseEvents:!0},L.map(function(t,n){return r.a.createElement("div",{key:t.label},Math.abs(a-n)<=2?r.a.createElement("img",{className:e.img,src:t.imgPath,alt:t.label}):null)})),r.a.createElement(M.a,{steps:t,position:"static",activeStep:a,className:e.mobileStepper,nextButton:r.a.createElement(O.a,{size:"small",onClick:this.handleNext,disabled:a===t-1},"Next"),backButton:r.a.createElement(O.a,{size:"small",onClick:this.handleBack,disabled:0===a},"Back")})),r.a.createElement("div",{className:e.stepsContainer},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},L[a].label),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},L[a].description)),r.a.createElement("div",null,r.a.createElement(O.a,{component:f.b,to:"/dashboard",variant:"contained",onClick:this.handleClose,color:"primary",autoFocus:!0},"Getting started"))))}}]),t}(n.Component),z=Object(h.f)(Object(b.a)(function(e){return{container:{maxWidth:600,flexGrow:1,textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center"},stepsContainer:{marginLeft:72,textAlign:"left",marginTop:20,height:65},bottomMargin:{marginBottom:e.spacing(2)}}})(F)),J=a(179),R=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={learnMoredialog:!1,getStartedDialog:!1},a.openDialog=function(e){a.setState({learnMoredialog:!0})},a.dialogClose=function(e){a.setState({learnMoredialog:!1})},a.openGetStartedDialog=function(e){a.setState({getStartedDialog:!0})},a.closeGetStartedDialog=function(e){a.setState({getStartedDialog:!1})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){fetch("http://localhost:8000/categories",{method:"GET",mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null),r.a.createElement("div",{className:e.root},r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0,className:e.grid},r.a.createElement(j.a,{item:!0,xs:12,md:8},r.a.createElement(v.a,{className:e.paper},r.a.createElement("div",{className:e.box},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Search routes"),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Search touristic routes according to your insterests and time")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",className:e.actionButtom,href:"#search"},"Go")))),r.a.createElement(j.a,{item:!0,xs:12,md:8},r.a.createElement(v.a,{className:e.paper},r.a.createElement("div",{className:e.box},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Favourites"),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Explore the routes that you marked as favourites")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",className:e.actionButtom,href:"#favourites"},"Go")))),r.a.createElement(j.a,{item:!0,xs:12,md:8},r.a.createElement(v.a,{className:e.paper},r.a.createElement("div",{className:e.box},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Profile"),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Update your default search preferences")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",className:e.actionButtom,href:"#profile"},"Go")))),r.a.createElement(j.a,{item:!0,xs:12,md:8},r.a.createElement(v.a,{className:e.paper},r.a.createElement("div",{className:e.box},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Login"),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Create an account, log to it or log out")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",className:e.actionButtom,href:"#login"},"Go")))))),r.a.createElement(z,{open:this.state.learnMoredialog,onClose:this.dialogClose}),r.a.createElement(T,{open:this.state.getStartedDialog,onClose:this.closeGetStartedDialog})))}}]),t}(n.Component),W=Object(h.f)(Object(b.a)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.grey[100],overflow:"hidden",background:"url(".concat(J,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",paddingBottom:200},grid:Object(g.a)({width:1200,marginTop:40},e.breakpoints.down("sm"),{width:"calc(100% - 20px)"}),paper:{padding:e.spacing(3),textAlign:"left",color:e.palette.text.secondary},rangeLabel:{display:"flex",justifyContent:"space-between",paddingTop:e.spacing(2)},topBar:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:32},outlinedButtom:{textTransform:"uppercase",margin:e.spacing(1)},actionButtom:{textTransform:"uppercase",margin:e.spacing(1),width:152},blockCenter:{padding:e.spacing(2),textAlign:"center"},block:{padding:e.spacing(2)},box:{marginBottom:40,height:65},inlining:{display:"inline-block",marginRight:10},buttonBar:{display:"flex"},alignRight:{display:"flex",justifyContent:"flex-end"},noBorder:{borderBottomStyle:"hidden"},loadingState:{opacity:.05},loadingMessage:{position:"absolute",top:"40%",left:"40%"}}})(R)),q=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),U=Object(h.f)(q),V=a(247),H=a(246),Y=a(257),_=a(251),$=a(107),K=a.n($),Q=a(185),X=a(248),Z=a(186),ee=a(250),te=a(258),ae=a(249),ne=[{label:"Home",pathname:"/"},{label:"Search",pathname:"/search"},{label:"Favourites",pathname:"/favourites"},{label:"Profile",pathname:"/profile"},{label:"Login",pathname:"/login"}],re=a(100),oe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:0,menuDrawer:!1},a.handleChange=function(e,t){a.setState({value:t})},a.mobileMenuOpen=function(e){a.setState({menuDrawer:!0})},a.mobileMenuClose=function(e){a.setState({menuDrawer:!1})},a.current=function(){var e=0;for(var t in ne){if(a.props.currentPath===t.pathname)return e;e++}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(H.a,{position:"absolute",color:"default",className:t.appBar},r.a.createElement(V.a,null,r.a.createElement(j.a,{container:!0,spacing:10,alignItems:"baseline"},r.a.createElement(j.a,{item:!0,xs:12,className:t.flex},r.a.createElement("div",{className:t.inline},r.a.createElement(y.a,{variant:"h6",color:"inherit",noWrap:!0},r.a.createElement(f.b,{to:"/",className:t.link},r.a.createElement("img",{width:20,src:re,alt:""}),r.a.createElement("span",{className:t.tagline},"Rutafy")))),!this.props.noTabs&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.productLogo},r.a.createElement(y.a,null,"Find your route")),r.a.createElement("div",{className:t.iconContainer},r.a.createElement(Q.a,{onClick:this.mobileMenuOpen,className:t.iconButton,color:"inherit","aria-label":"Menu"},r.a.createElement(K.a,null))),r.a.createElement("div",{className:t.tabContainer},r.a.createElement(te.a,{anchor:"right",open:this.state.menuDrawer,onClose:this.mobileMenuClose,onOpen:this.mobileMenuOpen},r.a.createElement(H.a,{title:"Menu"}),r.a.createElement(X.a,null,ne.map(function(t,a){return r.a.createElement(Z.a,{component:t.external?ae.a:f.b,href:t.external?t.pathname:null,to:t.external?null:{pathname:t.pathname,search:e.props.location.search},button:!0,key:t.label},r.a.createElement(ee.a,{primary:t.label}))}))),r.a.createElement(Y.a,{value:this.current()||this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleChange},ne.map(function(a,n){return r.a.createElement(_.a,{key:n,component:a.external?ae.a:f.b,href:a.external?a.pathname:null,to:a.external?null:{pathname:a.pathname,search:e.props.location.search},classes:{root:t.tabItem},label:a.label})}))))))))}}]),t}(n.Component),le=Object(h.f)(Object(b.a)(function(e){return{appBar:{position:"relative",boxShadow:"none",borderBottom:"1px solid ".concat(e.palette.grey[100]),backgroundColor:"white"},inline:{display:"inline"},flex:Object(g.a)({display:"flex"},e.breakpoints.down("sm"),{display:"flex",justifyContent:"space-evenly",alignItems:"center"}),link:{textDecoration:"none",color:"inherit"},productLogo:Object(g.a)({display:"inline-block",borderLeft:"1px solid ".concat(e.palette.grey.A100),marginLeft:32,paddingLeft:24},e.breakpoints.up("md"),{paddingTop:"1.5em"}),tagline:Object(g.a)({display:"inline-block",marginLeft:10},e.breakpoints.up("md"),{paddingTop:"0.8em"}),iconContainer:Object(g.a)({display:"none"},e.breakpoints.down("sm"),{display:"block"}),iconButton:{float:"right"},tabContainer:Object(g.a)({marginLeft:32},e.breakpoints.down("sm"),{display:"none"}),tabItem:{paddingTop:20,paddingBottom:20,minWidth:"auto"}}})(oe)),ce=a(12),ie=a(256),se=a(254),ue=a(259),me=a(252),de=a(253),pe=a(115),fe=a.n(pe),he=a(108),ge=a(110);function be(){var e=Object(ge.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 18px;\n  height: 18px;\n  background-color: #000;\n  border: 2px solid #fff;\n  border-radius: 100%;\n  user-select: none;\n  transform: translate(-50%, -50%);\n  cursor: ",";\n  &:hover {\n    z-index: 1;\n  }\n"]);return be=function(){return e},e}var Ee=a(111).a.div(be(),function(e){return e.onClick?"pointer":"default"}),ve=function(e){var t=e.text,a=e.onClick;return r.a.createElement(Ee,{alt:t,onClick:a})};ve.defaultProps={onClick:null};var ye=ve;var je=function(e){var t=e.coordinates,a=e.zoom;return r.a.createElement("div",{style:{height:"50vh",width:"100%"}},r.a.createElement(he.a,{center:t[0],zoom:a},t.map(function(e){return r.a.createElement(ye,{lat:e.lat,lng:e.lng})})))};var Oe=function(e){var t=e.route,a=t.places.map(function(e){return{lat:e.location.coordinates[0],lng:e.location.coordinates[1]}});return r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},t.places.length>4?t.places[0].name+" - "+t.places[1].name+" - ... - "+t.places[t.places.length-2].name+" - "+t.places[t.places.length-1].name:t.places.map(function(e){return e.name+" - "})),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Duration: ",t.minutes," minutes (>",Math.floor(t.minutes/60)," hours)"),r.a.createElement(je,{coordinates:a,zoom:7}),t.places.map(function(e){return r.a.createElement("div",null,r.a.createElement(ue.a,null,r.a.createElement(me.a,{expandIcon:r.a.createElement(fe.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(y.a,{variant:"subtitle1",color:"secondary",gutterBottom:!0},e.name)),r.a.createElement(de.a,null,r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Coordinates: ",e.location.coordinates[0]+" , "+e.location.coordinates[1],r.a.createElement("br",null),r.a.createElement("br",null),e.description))))})))};var xe=Object(h.f)(function(){var e=Object(n.useState)(!1),t=Object(ce.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),c=Object(ce.a)(l,2),i=c[0],s=c[1],u=Object(n.useState)([]),m=Object(ce.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(120),h=Object(ce.a)(f,2),g=h[0],b=h[1],x=Object(n.useState)([]),S=Object(ce.a)(x,2),C=S[0],k=S[1],w=Object(n.useState)([]),B=Object(ce.a)(w,2),N=B[0],T=B[1],I=Object(n.useState)(["Fuerte del Rapit\xe1n","Castillo de Loarre","Hotel San Ram\xf3n","Iglesia de San Sebasti\xe1n"]),A=Object(ce.a)(I,2),M=A[0],P=A[1];return Object(n.useEffect)(function(){var e=localStorage.getItem("token");o(!!e)},[]),Object(n.useEffect)(function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e).categories;k(t)}else k([])},[]),Object(n.useEffect)(function(){fetch("http://localhost:8000/categories",{method:"GET",mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return T(e)})},[]),Object(n.useEffect)(function(){fetch("http://localhost:8000/places/names",{method:"GET",mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return P(e)})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Search route"),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(ie.a,{id:"minutes",label:"Minutes",type:"number",value:g,onChange:function(e){return b(Number(e.target.value))}}),r.a.createElement(ie.a,{id:"categories",label:"Add category",select:!0,value:N.length>0?N[0]:"",onChange:function(e){return k(C.concat(e.target.value))}},N.map(function(e){return r.a.createElement(se.a,{key:e,value:e},e)})),r.a.createElement(ie.a,{id:"places",label:"Add place",select:!0,value:M.length>0?M[0]:"",onChange:function(e){return p(d.concat(e.target.value))}},M.map(function(e){return r.a.createElement(se.a,{key:e,value:e},e)}))),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Categories: ",C.map(function(e){return e+", "})),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Places: ",d.map(function(e){return e+", "}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){!function(){var e=new URLSearchParams;e.append("minutes",g.toString()),C.map(function(t){return e.append("categories",t)}),d.map(function(t){return e.append("places_names",t)}),fetch("http://localhost:8000/routes?"+e.toString(),{method:"GET",mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return s(e)})}()}},"Search"),r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){k([]),p([])}},"Clear")))),!0!==a?r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"Please, log in to mark routes as favourites."):null,i.map(function(e){return r.a.createElement(j.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,null,r.a.createElement(Oe,{route:e}),!0===a?r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){return function(e){var t=window.localStorage.token;fetch("http://localhost:8000/routes/"+e+"/fav",{method:"POST",mode:"cors",credentials:"include",headers:{Authorization:"Bearer "+t}})}(e.id)}},"Favorite")):null))})))))});var Se=Object(h.f)(function(){var e=Object(n.useState)(""),t=Object(ce.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)(""),c=Object(ce.a)(l,2),i=c[0],s=c[1],u=Object(n.useState)(!1),m=Object(ce.a)(u,2),d=m[0],p=m[1];Object(n.useEffect)(function(){var e=localStorage.getItem("token");p(!!e)},[]);var f=function(){var e=new URLSearchParams;e.append("username",a),e.append("password",i),fetch("http://localhost:8000/token",{method:"POST",mode:"cors",credentials:"include",body:e}).then(function(e){return e.json()}).then(function(e){localStorage.setItem("token",e.access_token),p(!0),h()})},h=function(){var e=window.localStorage.token;fetch("http://localhost:8000/user",{method:"GET",mode:"cors",credentials:"include",headers:{Authorization:"Bearer "+e}}).then(function(e){return e.json()}).then(function(e){return localStorage.setItem("user",JSON.stringify(e))})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Login")),!0!==d?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(ie.a,{id:"username",label:"username",value:a,onChange:function(e){return o(e.target.value)}}),r.a.createElement(ie.a,{id:"password",label:"password",type:"password",value:i,onChange:function(e){return s(e.target.value)}}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){f()}},"Login"),r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){!function(){var e={email:a,password:i};fetch("http://localhost:8000/user",{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(){return f()})}()}},"Signup"))):r.a.createElement("div",null,r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"You are logged in."),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),p(!1)}},"Logout")))))))))});var Ce=Object(h.f)(function(){var e=Object(n.useState)(!1),t=Object(ce.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),c=Object(ce.a)(l,2),i=c[0],s=c[1];return Object(n.useEffect)(function(){var e=localStorage.getItem("token");e?(o(!0),fetch("http://localhost:8000/fav/routes",{method:"GET",mode:"cors",credentials:"include",headers:{Authorization:"Bearer "+e}}).then(function(e){return e.ok?e.json():[]}).then(function(e){return s(e)})):o(!1)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Favourite routes")),!0!==a?r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"Please, log in to view your favourite routes"):i.map(function(e){return r.a.createElement(j.a,{item:!0,xs:12,md:6},r.a.createElement(Oe,{route:e}))})))))});var ke=Object(h.f)(function(){var e=Object(n.useState)(!1),t=Object(ce.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)([]),c=Object(ce.a)(l,2),i=c[0],s=c[1],u=Object(n.useState)([]),m=Object(ce.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)([]),h=Object(ce.a)(f,2),g=h[0],b=h[1];return Object(n.useEffect)(function(){var e=localStorage.getItem("token");o(!!e)},[]),Object(n.useEffect)(function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e).categories;s(t)}else s([])},[]),Object(n.useEffect)(function(){fetch("http://localhost:8000/categories",{method:"GET",mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return b(e)})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,null),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(v.a,null,r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Profile"),!0!==a?r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"Please, log in to view your profile"):r.a.createElement("div",null,r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"Your categories: ",i.map(function(e){return e+", "})),r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{color:"secondary",variant:"subtitle1",gutterBottom:!0},"Add new categories"),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(ie.a,{id:"categories",label:"Add category",select:!0,value:g.length>0?g[0]:"",onChange:function(e){return p(d.concat(e.target.value))}},g.map(function(e){return r.a.createElement(se.a,{key:e,value:e},e)}))),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"New categories: ",d.map(function(e){return e+", "}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){!function(){var e=window.localStorage.token;fetch("http://localhost:8000/user/categories",{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify(d),headers:{Authorization:"Bearer "+e}}).then(function(e){e.ok&&e.json().then(function(e){s(e.categories),localStorage.setItem("user",JSON.stringify(e))})})}()}},"Add"))))))))))}),we=function(e){return r.a.createElement(f.a,null,r.a.createElement(U,null,r.a.createElement(le,null),r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:W}),r.a.createElement(h.a,{exact:!0,path:"/search",component:xe}),r.a.createElement(h.a,{exact:!0,path:"/login",component:Se}),r.a.createElement(h.a,{exact:!0,path:"/favourites",component:Ce}),r.a.createElement(h.a,{exact:!0,path:"/profile",component:ke}))))},Be=a(76),Ne=a(75),Te=Object(d.a)({palette:{secondary:{main:Be.a[900]},primary:{main:Ne.a[700]}},typography:{fontFamily:['"Lato"',"sans-serif"].join(",")}}),Ie=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(p.a,{theme:Te},r.a.createElement(we,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[129,1,2]]]);
//# sourceMappingURL=main.69565e4a.chunk.js.map