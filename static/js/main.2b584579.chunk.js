(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{215:function(e,t,a){e.exports=a(387)},220:function(e,t,a){},221:function(e,t,a){},222:function(e,t,a){e.exports=a.p+"static/media/shape.208f3d38.svg"},227:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},387:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),c=a.n(o),l=(a(220),a(39)),i=a(40),s=a(42),u=a(41),m=a(43),d=a(205),f=a(449),p=(a(221),a(25)),E=a(46),g=a(47),h=a(391),b=a(434),v=a(388),y=a(77),j=a(438),O=a(439),x=a(222),k=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement("div",{className:e.root},r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0,className:e.grid},r.a.createElement(j.a,{item:!0,xs:12,md:8},r.a.createElement(v.a,{className:e.paper},r.a.createElement("div",{className:e.box},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Search routes"),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Search touristic routes according to your insterests and time")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",className:e.actionButtom,href:"#search"},"Go")))),r.a.createElement(j.a,{item:!0,xs:12,md:8},r.a.createElement(v.a,{className:e.paper},r.a.createElement("div",{className:e.box},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Add"),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Add a custom route to your favourites")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",className:e.actionButtom,href:"#add"},"Go")))),r.a.createElement(j.a,{item:!0,xs:12,md:8},r.a.createElement(v.a,{className:e.paper},r.a.createElement("div",{className:e.box},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Favourites"),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Explore the routes that you marked as favourites")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",className:e.actionButtom,href:"#favourites"},"Go")))),r.a.createElement(j.a,{item:!0,xs:12,md:8},r.a.createElement(v.a,{className:e.paper},r.a.createElement("div",{className:e.box},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Profile"),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Update your default search preferences")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",className:e.actionButtom,href:"#profile"},"Go")))),r.a.createElement(j.a,{item:!0,xs:12,md:8},r.a.createElement(v.a,{className:e.paper},r.a.createElement("div",{className:e.box},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Statistics"),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"See statistics about your favourite routes")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",className:e.actionButtom,href:"#stats"},"Go")))),r.a.createElement(j.a,{item:!0,xs:12,md:8},r.a.createElement(v.a,{className:e.paper},r.a.createElement("div",{className:e.box},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Login"),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Create an account, log to it or log out")),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",className:e.actionButtom,href:"#login"},"Go"))))))))}}]),t}(n.Component),S=Object(E.f)(Object(h.a)(function(e){return{root:{flexGrow:1,backgroundColor:e.palette.grey[100],overflow:"hidden",background:"url(".concat(x,") no-repeat"),backgroundSize:"cover",backgroundPosition:"0 400px",paddingBottom:200},grid:Object(g.a)({width:1200,marginTop:40},e.breakpoints.down("sm"),{width:"calc(100% - 20px)"}),paper:{padding:e.spacing(3),textAlign:"left",color:e.palette.text.secondary},rangeLabel:{display:"flex",justifyContent:"space-between",paddingTop:e.spacing(2)},topBar:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:32},outlinedButtom:{textTransform:"uppercase",margin:e.spacing(1)},actionButtom:{textTransform:"uppercase",margin:e.spacing(1),width:152},blockCenter:{padding:e.spacing(2),textAlign:"center"},block:{padding:e.spacing(2)},box:{marginBottom:40,height:65},inlining:{display:"inline-block",marginRight:10},buttonBar:{display:"flex"},alignRight:{display:"flex",justifyContent:"flex-end"},noBorder:{borderBottomStyle:"hidden"},loadingState:{opacity:.05},loadingMessage:{position:"absolute",top:"40%",left:"40%"}}})(k)),B=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),C=Object(E.f)(B),w=a(441),T=a(440),N=a(451),I=a(445),A=a(192),P=a.n(A),L=a(389),G=a(442),F=a(390),M=a(444),z=a(452),J=a(443),D=[{label:"Home",pathname:"/"},{label:"Search",pathname:"/search"},{label:"Add",pathname:"/add"},{label:"Favourites",pathname:"/favourites"},{label:"Profile",pathname:"/profile"},{label:"Statistics",pathname:"/stats"},{label:"Login",pathname:"/login"}],R=a(227),U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:0,menuDrawer:!1},a.handleChange=function(e,t){a.setState({value:t})},a.mobileMenuOpen=function(e){a.setState({menuDrawer:!0})},a.mobileMenuClose=function(e){a.setState({menuDrawer:!1})},a.current=function(){var e=0;for(var t in D){if(a.props.currentPath===t.pathname)return e;e++}},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(T.a,{position:"absolute",color:"default",className:t.appBar},r.a.createElement(w.a,null,r.a.createElement(j.a,{container:!0,spacing:10,alignItems:"baseline"},r.a.createElement(j.a,{item:!0,xs:12,className:t.flex},r.a.createElement("div",{className:t.inline},r.a.createElement(y.a,{variant:"h6",color:"inherit",noWrap:!0},r.a.createElement(p.b,{to:"/",className:t.link},r.a.createElement("img",{width:20,src:R,alt:""}),r.a.createElement("span",{className:t.tagline},"Rutafy")))),!this.props.noTabs&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.productLogo},r.a.createElement(y.a,null,"Find your route")),r.a.createElement("div",{className:t.iconContainer},r.a.createElement(L.a,{onClick:this.mobileMenuOpen,className:t.iconButton,color:"inherit","aria-label":"Menu"},r.a.createElement(P.a,null))),r.a.createElement("div",{className:t.tabContainer},r.a.createElement(z.a,{anchor:"right",open:this.state.menuDrawer,onClose:this.mobileMenuClose,onOpen:this.mobileMenuOpen},r.a.createElement(T.a,{title:"Menu"}),r.a.createElement(G.a,null,D.map(function(t,a){return r.a.createElement(F.a,{component:t.external?J.a:p.b,href:t.external?t.pathname:null,to:t.external?null:{pathname:t.pathname,search:e.props.location.search},button:!0,key:t.label},r.a.createElement(M.a,{primary:t.label}))}))),r.a.createElement(N.a,{value:this.current()||this.state.value,indicatorColor:"primary",textColor:"primary",onChange:this.handleChange},D.map(function(a,n){return r.a.createElement(I.a,{key:n,component:a.external?J.a:p.b,href:a.external?a.pathname:null,to:a.external?null:{pathname:a.pathname,search:e.props.location.search},classes:{root:t.tabItem},label:a.label})}))))))))}}]),t}(n.Component),V=Object(E.f)(Object(h.a)(function(e){return{appBar:{position:"relative",boxShadow:"none",borderBottom:"1px solid ".concat(e.palette.grey[100]),backgroundColor:"white"},inline:{display:"inline"},flex:Object(g.a)({display:"flex"},e.breakpoints.down("sm"),{display:"flex",justifyContent:"space-evenly",alignItems:"center"}),link:{textDecoration:"none",color:"inherit"},productLogo:Object(g.a)({display:"inline-block",borderLeft:"1px solid ".concat(e.palette.grey.A100),marginLeft:32,paddingLeft:24},e.breakpoints.up("md"),{paddingTop:"1.5em"}),tagline:Object(g.a)({display:"inline-block",marginLeft:10},e.breakpoints.up("md"),{paddingTop:"0.8em"}),iconContainer:Object(g.a)({display:"none"},e.breakpoints.down("sm"),{display:"block"}),iconButton:{float:"right"},tabContainer:Object(g.a)({marginLeft:32},e.breakpoints.down("sm"),{display:"none"}),tabItem:{paddingTop:20,paddingBottom:20,minWidth:"auto"}}})(U)),W=a(10),K=a(450),Y=a(448),_=a(454),H=a(446),$=a(447),q=a(200),Q=a.n(q),X=a(193),Z=a(195);function ee(){var e=Object(Z.a)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 18px;\n  height: 18px;\n  background-color: #000;\n  border: 2px solid #fff;\n  border-radius: 100%;\n  user-select: none;\n  transform: translate(-50%, -50%);\n  cursor: ",";\n  &:hover {\n    z-index: 1;\n  }\n"]);return ee=function(){return e},e}var te=a(196).a.div(ee(),function(e){return e.onClick?"pointer":"default"}),ae=function(e){var t=e.text,a=e.onClick;return r.a.createElement(te,{alt:t,onClick:a})};ae.defaultProps={onClick:null};var ne=ae;var re=function(e){var t=e.coordinates,a=e.zoom;return r.a.createElement("div",{style:{height:"50vh",width:"100%"}},r.a.createElement(X.a,{center:t[0],zoom:a},t.map(function(e){return r.a.createElement(ne,{lat:e.lat,lng:e.lng})})))};var oe=function(e){var t=e.route,a=t.places.map(function(e){return{lat:e.location.coordinates[0],lng:e.location.coordinates[1]}});return r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},t.places.length>4?t.places[0].name+" - "+t.places[1].name+" - ... - "+t.places[t.places.length-2].name+" - "+t.places[t.places.length-1].name:t.places.map(function(e){return e.name+" - "})),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Duration: ",t.minutes," minutes (>",Math.floor(t.minutes/60)," hours)"),r.a.createElement(re,{coordinates:a,zoom:7}),t.places.map(function(e){return r.a.createElement("div",null,r.a.createElement(_.a,null,r.a.createElement(H.a,{expandIcon:r.a.createElement(Q.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(y.a,{variant:"subtitle1",color:"secondary",gutterBottom:!0},e.name)),r.a.createElement($.a,null,r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Coordinates: ",e.location.coordinates[0]+" , "+e.location.coordinates[1],r.a.createElement("br",null),r.a.createElement("br",null),e.description))))})))},ce="https://rutafy.herokuapp.com";var le=Object(E.f)(function(){var e=Object(n.useState)(!1),t=Object(W.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),l=Object(W.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)([]),m=Object(W.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)(120),E=Object(W.a)(p,2),g=E[0],h=E[1],x=Object(n.useState)([]),k=Object(W.a)(x,2),S=k[0],B=k[1],C=Object(n.useState)([]),w=Object(W.a)(C,2),T=w[0],N=w[1],I=Object(n.useState)([]),A=Object(W.a)(I,2),P=A[0],L=A[1];return Object(n.useEffect)(function(){var e=localStorage.getItem("token");o(!!e)},[]),Object(n.useEffect)(function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e).categories;B(t)}else B([])},[]),Object(n.useEffect)(function(){fetch(ce+"/categories",{method:"GET",mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return N(e)})},[]),Object(n.useEffect)(function(){fetch(ce+"/places/names",{method:"GET",mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return L(e)})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Search route"),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(K.a,{id:"minutes",label:"Minutes",type:"number",value:g,onChange:function(e){return h(Number(e.target.value))}}),r.a.createElement(K.a,{id:"categories",label:"Add category",select:!0,value:T.length>0?T[0]:"",onChange:function(e){return B(S.concat(e.target.value))}},T.map(function(e){return r.a.createElement(Y.a,{key:e,value:e},e)})),r.a.createElement(K.a,{id:"places",label:"Add place",select:!0,value:P.length>0?P[0]:"",onChange:function(e){return f(d.concat(e.target.value))}},P.map(function(e){return r.a.createElement(Y.a,{key:e,value:e},e)}))),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Categories: ",S.map(function(e){return e+", "})),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Places: ",d.map(function(e){return e+", "}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){!function(){var e=new URLSearchParams;e.append("minutes",g.toString()),S.map(function(t){return e.append("categories",t)}),d.map(function(t){return e.append("places_names",t)}),fetch(ce+"/routes?"+e.toString(),{method:"GET",mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return s(e)})}()}},"Search"),r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){B([]),f([])}},"Clear")))),!0!==a?r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"Please, log in to mark routes as favourites."):null,i.map(function(e){return r.a.createElement(j.a,{item:!0,xs:12,md:6},r.a.createElement(v.a,null,r.a.createElement(oe,{route:e}),!0===a?r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){return function(e){var t=window.localStorage.token;fetch(ce+"/routes/"+e+"/fav",{method:"POST",mode:"cors",credentials:"include",headers:{Authorization:"Bearer "+t}})}(e.id)}},"Favorite")):null))})))))});var ie=Object(E.f)(function(){var e=Object(n.useState)(""),t=Object(W.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),l=Object(W.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(!1),m=Object(W.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)(!0),E=Object(W.a)(p,2),g=E[0],h=E[1];Object(n.useEffect)(function(){var e=localStorage.getItem("token");f(!!e)},[]);var x=function(){var e=new URLSearchParams;e.append("username",a),e.append("password",i),fetch(ce+"/token",{method:"POST",mode:"cors",credentials:"include",body:e}).then(function(e){e.ok?(h(!0),e.json().then(function(e){localStorage.setItem("token",e.access_token),f(!0),k()})):h(!1)})},k=function(){var e=window.localStorage.token;fetch(ce+"/user",{method:"GET",mode:"cors",credentials:"include",headers:{Authorization:"Bearer "+e}}).then(function(e){return e.json()}).then(function(e){return localStorage.setItem("user",JSON.stringify(e))})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Login")),!0!==d?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(K.a,{id:"email",label:"Email",value:a,onChange:function(e){return o(e.target.value)}}),r.a.createElement(K.a,{id:"password",label:"Password",type:"password",value:i,onChange:function(e){return s(e.target.value)}}))),!0!==g?r.a.createElement(y.a,{style:{textTransform:"uppercase"},gutterBottom:!0},"Invalid credentials"):null,r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){x()}},"Login"),r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){!function(){var e={email:a,password:i};fetch(ce+"/user",{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify(e)}).then(function(e){e.ok?x():h(!1)})}()}},"Signup"))):r.a.createElement("div",null,r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"You are logged in."),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){localStorage.removeItem("token"),localStorage.removeItem("user"),f(!1)}},"Logout")))))))))});var se=Object(E.f)(function(){var e=Object(n.useState)(!1),t=Object(W.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),l=Object(W.a)(c,2),i=l[0],s=l[1];return Object(n.useEffect)(function(){var e=localStorage.getItem("token");e?(o(!0),fetch(ce+"/fav/routes",{method:"GET",mode:"cors",credentials:"include",headers:{Authorization:"Bearer "+e}}).then(function(e){return e.ok?e.json():[]}).then(function(e){return s(e)})):o(!1)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Favourite routes")),!0!==a?r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"Please, log in to view your favourite routes"):i.map(function(e){return r.a.createElement(j.a,{item:!0,xs:12,md:6},r.a.createElement(oe,{route:e}))})))))});var ue=Object(E.f)(function(){var e=Object(n.useState)(!1),t=Object(W.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),l=Object(W.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)([]),m=Object(W.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)([]),E=Object(W.a)(p,2),g=E[0],h=E[1];return Object(n.useEffect)(function(){var e=localStorage.getItem("token");o(!!e)},[]),Object(n.useEffect)(function(){var e=localStorage.getItem("user");if(e){var t=JSON.parse(e).categories;s(t)}else s([])},[]),Object(n.useEffect)(function(){fetch(ce+"/categories",{method:"GET",mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return h(e)})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(v.a,null,r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Profile"),!0!==a?r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"Please, log in to view your profile"):r.a.createElement("div",null,r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"Your categories: ",i.map(function(e){return e+", "})),r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{color:"secondary",variant:"subtitle1",gutterBottom:!0},"Add new categories"),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(K.a,{id:"categories",label:"Add category",select:!0,value:g.length>0?g[0]:"",onChange:function(e){return f(d.concat(e.target.value))}},g.map(function(e){return r.a.createElement(Y.a,{key:e,value:e},e)}))),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"New categories: ",d.map(function(e){return e+", "}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){!function(){var e=window.localStorage.token;fetch(ce+"/user/categories",{method:"POST",mode:"cors",credentials:"include",body:JSON.stringify(d),headers:{Authorization:"Bearer "+e}}).then(function(e){e.ok&&e.json().then(function(e){s(e.categories),localStorage.setItem("user",JSON.stringify(e))})})}()}},"Add"))))))))))}),me=a(201),de=a.n(me),fe=a(202),pe=a.n(fe),Ee=a(134),ge=a.n(Ee),he=a(135),be=a.n(he),ve=a(133),ye=a.n(ve);var je=function(e){var t=e.data;return r.a.createElement(de.a,{width:"99%",height:225},r.a.createElement(pe.a,{data:t},r.a.createElement(be.a,{dataKey:"name"}),r.a.createElement(ye.a,null),r.a.createElement(ge.a,{dataKey:"count",fill:"#8884d8"})))};var Oe=Object(E.f)(function(){var e=Object(n.useState)(!1),t=Object(W.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),l=Object(W.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)([]),m=Object(W.a)(u,2),d=m[0],f=m[1];return Object(n.useEffect)(function(){var e=localStorage.getItem("token");e?(o(!0),fetch(ce+"/stats/categories",{method:"GET",mode:"cors",credentials:"include",headers:{Authorization:"Bearer "+e}}).then(function(e){return e.ok?e.json():[]}).then(function(e){var t=e.map(function(e){return{name:e[0],count:e[1]}});s(t)}),fetch(ce+"/stats/municipalities",{method:"GET",mode:"cors",credentials:"include",headers:{Authorization:"Bearer "+e}}).then(function(e){return e.ok?e.json():[]}).then(function(e){var t=e.map(function(e){return{name:e[0],count:e[1]}});f(t)})):o(!1)},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Statistics")),!0!==a?r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"Please, log in to view your statistics"):r.a.createElement("div",null,r.a.createElement(y.a,{variant:"subtitle1",color:"secondary",gutterBottom:!0},"Most favourited categories"),r.a.createElement(je,{data:i}),r.a.createElement(y.a,{variant:"subtitle1",color:"secondary",gutterBottom:!0},"Most favourited municipalities"),r.a.createElement(je,{data:d}))))))});var xe=Object(E.f)(function(){var e=Object(n.useState)(!1),t=Object(W.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(null),l=Object(W.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)([]),m=Object(W.a)(u,2),d=m[0],f=m[1],p=Object(n.useState)([]),E=Object(W.a)(p,2),g=E[0],h=E[1];return Object(n.useEffect)(function(){var e=localStorage.getItem("token");o(!!e)},[]),Object(n.useEffect)(function(){fetch(ce+"/places/names",{method:"GET",mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){return h(e)})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,null),r.a.createElement("div",null,r.a.createElement(j.a,{container:!0,justify:"center"},r.a.createElement(j.a,{spacing:4,alignItems:"center",justify:"center",container:!0},r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(v.a,null,r.a.createElement("div",null,r.a.createElement(y.a,{style:{textTransform:"uppercase"},color:"secondary",gutterBottom:!0},"Add route"),r.a.createElement("form",{noValidate:!0,autoComplete:"off"},r.a.createElement(K.a,{id:"places",label:"Add place",select:!0,value:g.length>0?g[0]:"",onChange:function(e){return f(d.concat(e.target.value))}},g.map(function(e){return r.a.createElement(Y.a,{key:e,value:e},e)}))),r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Places:"),r.a.createElement("ol",null,d.map(function(e){return r.a.createElement("li",null,e)}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){!function(){var e=window.localStorage.token;fetch(ce+"/routes",{method:"POST",mode:"cors",credentials:"include",headers:{Authorization:"Bearer "+e},body:JSON.stringify(d)}).then(function(e){e.ok&&e.json().then(function(e){s(e)})})}()}},"Add and fav"),r.a.createElement(O.a,{color:"primary",variant:"contained",onClick:function(){f([])}},"Clear")))),!0!==a?r.a.createElement(y.a,{variant:"body1",gutterBottom:!0},"Please, log in to add routes."):null,null!==i?r.a.createElement(j.a,{item:!0,xs:12,md:6},r.a.createElement(y.a,{variant:"body2",gutterBottom:!0},"Last added route:"),r.a.createElement(v.a,null,r.a.createElement(oe,{route:i}))):null))))}),ke=function(e){return r.a.createElement(p.a,null,r.a.createElement(C,null,r.a.createElement(V,null),r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",component:S}),r.a.createElement(E.a,{exact:!0,path:"/search",component:le}),r.a.createElement(E.a,{exact:!0,path:"/login",component:ie}),r.a.createElement(E.a,{exact:!0,path:"/favourites",component:se}),r.a.createElement(E.a,{exact:!0,path:"/profile",component:ue}),r.a.createElement(E.a,{exact:!0,path:"/stats",component:Oe}),r.a.createElement(E.a,{exact:!0,path:"/add",component:xe}))))},Se=a(109),Be=a(108),Ce=Object(d.a)({palette:{secondary:{main:Se.a[900]},primary:{main:Be.a[700]}},typography:{fontFamily:['"Lato"',"sans-serif"].join(",")}}),we=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(f.a,{theme:Ce},r.a.createElement(ke,null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[215,1,2]]]);
//# sourceMappingURL=main.2b584579.chunk.js.map